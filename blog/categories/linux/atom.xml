<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

  <title><![CDATA[Category: Linux | A Coding Monkey's Blog]]></title>
  <link href="http://jchain.github.com/blog/categories/linux/atom.xml" rel="self"/>
  <link href="http://jchain.github.com/"/>
  <updated>2013-01-31T21:35:42-06:00</updated>
  <id>http://jchain.github.com/</id>
  <author>
    <name><![CDATA[Zandy]]></name>
    
  </author>
  <generator uri="http://octopress.org/">Octopress</generator>

  
  <entry>
    <title type="html"><![CDATA[Build Feh from source and install to Home directory]]></title>
    <link href="http://jchain.github.com/blog/2013/01/31/customized-feh-config-mk/"/>
    <updated>2013-01-31T15:39:00-06:00</updated>
    <id>http://jchain.github.com/blog/2013/01/31/customized-feh-config-mk</id>
    <content type="html"><![CDATA[<p><a href="http://feh.finalrewind.org/"><code>Feh</code></a> is a lightweight image viewer for Linux. Its source code doesn't ship the Autoconf script
and only Makefile. The customization is done by modifying the file <code>config.mk</code>. In my case I would
like to install it to my HOME directory. Plus, I have installed the dependency library <code>giblib</code> into
HOME directory before so I have to specify the search path for compiler and linker. Here is what
I got so far:</p>

<p>```makefile
PACKAGE ?= feh
VERSION ?= 2.8</p>

<h1>Prefix for all installed files</h1>

<h1>PREFIX ?= /usr/local</h1>

<p>PREFIX ?= ${HOME}</p>

<h1>Directories for manuals, executables, docs, data, etc.</h1>

<p>main_dir = ${DESTDIR}${PREFIX}
man_dir = ${main_dir}/share/man
bin_dir = ${main_dir}/bin
doc_dir = ${main_dir}/share/doc/feh
image_dir = ${main_dir}/share/feh/images
font_dir = ${main_dir}/share/feh/fonts
example_dir = ${main_dir}/share/doc/feh/examples</p>

<h1>default CFLAGS</h1>

<p>CFLAGS ?= -g -O2
CFLAGS += -Wall -Wextra -pedantic</p>

<p>curl ?= 1
debug ?= 0
help ?= 0
xinerama ?= 1
exif ?= 0</p>

<p>ifeq (${curl},1)</p>

<pre><code>CFLAGS += -DHAVE_LIBCURL
LDLIBS += -lcurl
MAN_CURL = enabled
</code></pre>

<p>else</p>

<pre><code>MAN_CURL = disabled
</code></pre>

<p>endif</p>

<p>ifeq (${debug},1)</p>

<pre><code>CFLAGS += -DDEBUG -O0
MAN_DEBUG = . This is a debug build.
</code></pre>

<p>else</p>

<pre><code>MAN_DEBUG =
</code></pre>

<p>endif</p>

<p>ifeq (${help},1)</p>

<pre><code>CFLAGS += -DINCLUDE_HELP
</code></pre>

<p>endif</p>

<p>ifeq (${stat64},1)</p>

<pre><code>CFLAGS += -D_FILE_OFFSET_BITS=64
</code></pre>

<p>endif</p>

<p>ifeq (${xinerama},1)</p>

<pre><code>CFLAGS += -DHAVE_LIBXINERAMA
LDLIBS += -lXinerama
MAN_XINERAMA = enabled
</code></pre>

<p>else</p>

<pre><code>MAN_XINERAMA = disabled
</code></pre>

<p>endif</p>

<p>ifeq (${exif},1)</p>

<pre><code>CFLAGS += -DHAVE_LIBEXIF
LDLIBS += -lexif
MAN_EXIF = enabled
</code></pre>

<p>else</p>

<pre><code>MAN_EXIF = disabled
</code></pre>

<p>endif</p>

<h1>Uncomment this to use dmalloc</h1>

<h1>CFLAGS += -DWITH_DMALLOC</h1>

<h1>CFLAGS += -DPREFIX=\"${PREFIX}\" \</h1>

<pre><code>-DPACKAGE=\"${PACKAGE}\" -DVERSION=\"${VERSION}\"
</code></pre>

<p>CFLAGS += -DPREFIX=\"${PREFIX}\" \</p>

<pre><code>-DPACKAGE=\"${PACKAGE}\" -DVERSION=\"${VERSION}\" -I${PREFIX}/include
</code></pre>

<h1>LDLIBS += -lm -lpng -lX11 -lImlib2 -lgiblib</h1>

<p>LDLIBS += -lm -lpng -lX11 -lImlib2 -lgiblib -L${PREFIX}/lib64/
```</p>
]]></content>
  </entry>
  
</feed>
