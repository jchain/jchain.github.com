<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

  <title><![CDATA[Category: Linux | A Coding Monkey's Blog]]></title>
  <link href="http://jchain.github.com/blog/categories/linux/atom.xml" rel="self"/>
  <link href="http://jchain.github.com/"/>
  <updated>2013-01-17T16:45:42-06:00</updated>
  <id>http://jchain.github.com/</id>
  <author>
    <name><![CDATA[Zandy]]></name>
    
  </author>
  <generator uri="http://octopress.org/">Octopress</generator>

  
  <entry>
    <title type="html"><![CDATA[Install nVidia Driver on Fedora 17: A Non-typical Case]]></title>
    <link href="http://jchain.github.com/blog/2012/11/28/fedora-17-and-nvidia-driver/"/>
    <updated>2012-11-28T02:10:00-06:00</updated>
    <id>http://jchain.github.com/blog/2012/11/28/fedora-17-and-nvidia-driver</id>
    <content type="html"><![CDATA[<p>Finally I succeeded in installing the nVidia driver on my old Dell Inspiron 530 geared an old nVidia
8300 GS video card running Fedora 17 i386. Here is a quick recap on my journey with Fedora 17.</p>

<p>I started constantly using Fedora 17 half a year ago. I had used the default open source nVidia
driver <code>nouveau</code> happily until the system updated the kernel from the 3.3.4 to some newer version.
None of these newer kernels worked well with the <code>nouveau</code> driver. A common issue was the mouse was
drawn as a big block and the GUI color was totally garbage. I tried to install the nVidia driver
either according to <a href="http://www.if-not-true-then-false.com/2012/fedora-17-nvidia-guide/">what it said</a> or using the installer from the official website of nVidia.
But neither way worked. I could see the mouse was spinning but the whole system kept froze. So I
excluded the kernel update in <code>yum.conf</code> under <code>/etc</code>. Everything was fine until one day my Fedora
Linux suddenly crashed with a kernel panic error. The traceback message indicated it was about a
kernel bug in the ext4 file system</p>

<pre><code>kernel BUG at fs/ext4/extents.c
</code></pre>

<p>Initially I thought it could be due to certain bad blocks on my hard drive. But soon the hacker news
confirmed that the bug in the kernel was the culprit. After several sudden losses of my working
sessions I couldn't wait for any more seconds to update the kernel. And I had to make the Xorg
server work too.</p>

<p>It really bugged me that the nVidia driver didn't work on my Fedora 17. I booted from Ubuntu Linux
installed on an external USB disk. And the nVidia driver worked fine under it. There must be
something wrong with <code>akmod-nvidia</code> or the official driver.</p>

<p>Accidentally I found the solution. It appeared that my 8300GS card was not supported very well in
the recent 3xx driver. I guess this type was not very common. I tried <code>akmod-nvidia-173xx</code> and X
server started this time. In my case, I didn't need to do this:</p>

<pre><code>Remove / disable nouveau drivers from kernel initramfs
</code></pre>

<p>The remaining issue was the OpenGL apps were indirectly rendered. It was due to the nVidia GL
library was not automatically loaded. The system still used the mesa GL to do the software
rendering. A workaround is to put the following line in <code>.bashrc</code></p>

<pre><code>export LD_LIBRARY_PATH=/usr/lib/nvidia:$LD_LIBRARY_PATH
</code></pre>

<p>Another problem was the dual displays. The default <code>xorg.conf</code> generated by <code>akmod-nvidia-173xx</code>
didn't support the twin views. Additionally, <code>nvidia-settings</code> complained the X11 driver was too old
to be configured. Fortunately I had a copy of working <code>xorg.conf</code> at my Ubuntu partition. And here
is what it looks right now.</p>

<p>```</p>

<h1>RPM Fusion - nvidia-173xx-xorg.conf</h1>

<h1></h1>

<p>Section "Monitor"</p>

<pre><code># HorizSync source: edid, VertRefresh source: edid
Identifier     "Monitor0"
VendorName     "Unknown"
ModelName      "DELL E228WFP"
HorizSync       30.0 - 83.0
VertRefresh     56.0 - 75.0
Option         "DPMS"
</code></pre>

<p>EndSection</p>

<p>Section "Device"</p>

<pre><code>Identifier  "Device0"
Driver      "nvidia"
Option      "AddARGBGLXVisuals" "true"
</code></pre>

<p>EndSection</p>

<p>Section "Screen"</p>

<pre><code>Identifier     "Screen0"
Device         "Device0"
Monitor        "Monitor0"
DefaultDepth    24
Option         "TwinView" "1"
Option         "TwinViewXineramaInfoOrder" "DFP-0"
Option         "metamodes" "DFP: nvidia-auto-select +0+0, CRT: nvidia-auto-select +1680+0"
SubSection     "Display"
    Depth       24
EndSubSection
</code></pre>

<p>EndSection
```</p>

<p>I'm so excited to have my Fedora back in good shape and I want share my story with you. Hopefully it
will help you if you are facing the same problem.</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Quickly look up a word or phrase from commandline]]></title>
    <link href="http://jchain.github.com/blog/2012/09/28/quickly-look-up-a-word-or-phrase-from-commandline/"/>
    <updated>2012-09-28T14:46:55-05:00</updated>
    <id>http://jchain.github.com/blog/2012/09/28/quickly-look-up-a-word-or-phrase-from-commandline</id>
    <content type="html"><![CDATA[<p>I wrote two very short Bash functions to help me quickly look up a word or phrase using
<a href="http://elinks.or.cz/">elinks</a>. You can use w3m as you wish but elinks shows a better layout in my
eyes.</p>

<p>```bash</p>

<h1>look up on urbandictionary.com</h1>

<p>ub () {
 a=$@
 elinks www.urbandictionary.com/${a// /%20}
}</p>

<h1>look up on thefreedictionary.com</h1>

<p>fd () {
 a=$@
 elinks www.thefreedictionary.com/${a// /+}
}
```</p>

<p>Usage:</p>

<pre><code>ub your_word
fd your_word
</code></pre>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[MC (Midnight-Commander) 4.8.5 is slow, try 4.8.6]]></title>
    <link href="http://jchain.github.com/blog/2012/09/27/mc-midnight-commander-4-8-5-is-slow-try-4-8-6/"/>
    <updated>2012-09-27T23:57:17-05:00</updated>
    <id>http://jchain.github.com/blog/2012/09/27/mc-midnight-commander-4-8-5-is-slow-try-4-8-6</id>
    <content type="html"><![CDATA[<p>Recently MC was upgraded from 4.7.x to 4.8.5 on my 32bit Fedora 17. The start-up time was totally
unbearable, around 15 sec to start. I compiled the latest release v4.8.6 and that time dropped to
the negligible (&lt; 1sec).</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[How to show GNOME top panel from keyboard?]]></title>
    <link href="http://jchain.github.com/blog/2012/08/19/how-to-show-gnome-top-panel-from-keyboard/"/>
    <updated>2012-08-19T02:06:46-05:00</updated>
    <id>http://jchain.github.com/blog/2012/08/19/how-to-show-gnome-top-panel-from-keyboard</id>
    <content type="html"><![CDATA[<p>My computer display is not big so I have tried ways to save my screen real-estate. It looks to me that the designers of GNOME 3 must have a huge display.  The default window title bar are too high in my view. Besides the top panel is thicker than that in Unity. To make my life easier, I first installed the GTK+ 3.x theme from <a href="http://www.gnome-look.org">gnome-look.org</a> to reduce the height of the title bar. Then I set the top panel of GNOME desktop to 'auto hide'. But whenever I want to look at the weather or the time I have to move mouse over it to make it show. This is tedious. I searched online for a shortcut to show it. Many of results are prior to GNOME 3. Besides, I don't like the methods to change the 'gsetting' or 'gconf'.</p>

<p>It turns out that the simplest way to to hit 'Alt+F1' to activate the 'Application' in the top panel and hit 'Esc' to hide it again. So simple.</p>

<p>BTW: I'm using the fallback of GNOME 3.</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Fix the broken Bash file and directory name completion on Ubuntu Linux]]></title>
    <link href="http://jchain.github.com/blog/2012/06/02/fix-the-broken-bash-file-and-directory-name-completion-on-ubuntu-linux/"/>
    <updated>2012-06-02T17:12:54-05:00</updated>
    <id>http://jchain.github.com/blog/2012/06/02/fix-the-broken-bash-file-and-directory-name-completion-on-ubuntu-linux</id>
    <content type="html"><![CDATA[<p>I didn't remember ever since when my Bash filename and directory name completion functioned wackily. Everytime I hit 'tab' to complete a directory name, Bash didn't append the backslash nor printed out candidates (just like what it described like <a href="http://ubuntuforums.org/showthread.php?t=1053832">here</a> and <a href="http://timlabath.com/words/2011/05/10/ubuntu-11-04-and-broken-bash-completion/">here</a>). It drove me banana. Meanwhile, my Bash worked very well under other Linux distributions (openSUSE, CentOS). The culprit was the a Bash completion file for adobe acrobat reader under /etc/bash_completion.d/. Delete it and the problem will be solved.</p>
]]></content>
  </entry>
  
</feed>
