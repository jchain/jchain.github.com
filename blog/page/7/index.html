
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>A Coding Monkey's Blog</title>
  <meta name="author" content="Zandy">

  
  <meta name="description" content="My long term confusion about the message passing and calling is answered here:
http://en.wikipedia.org/wiki/Message_passing# &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://jchain.github.com/blog/page/7/">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="/javascripts/ender.js"></script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <link href="/atom.xml" rel="alternate" title="A Coding Monkey's Blog" type="application/atom+xml">
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="http://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">

  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-36085551-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>


</head>

<body   >
  <header role="banner"><hgroup>
  <h1><a href="/">A Coding Monkey's Blog</a></h1>
  
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
<!--    -->
<!-- <form action="http://google.com/search" method="get"> -->
<!--   <fieldset role="search"> -->
<!--     <input type="hidden" name="sites" value="zandyware.com" /> -->
<!--     <input class="search" type="text" name="q" results="0" placeholder="Search&hellip;"/> -->
<!--   </fieldset> -->
<!-- </form> -->
<!--    -->
  
<form action="http://google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:jchain.github.com" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
  <li><a href="/">Blog</a></li>
  <li><a href="/blog/archives">Archives</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div class="blog-index">
  
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2011/02/23/message-passing-versus-calling/">Message Passing Versus Calling?</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2011-02-23T13:48:30-06:00" pubdate data-updated="true">Feb 23<span>rd</span>, 2011</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>My long term confusion about the message passing and calling is answered here:
<a href="http://en.wikipedia.org/wiki/Message_passing#Message_passing_versus_calling">http://en.wikipedia.org/wiki/Message_passing#Message_passing_versus_calling</a></p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2011/02/22/recommend-to-read-who-moved-my-state/">Recommend to Read: Who Moved My State?</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2011-02-22T21:21:40-06:00" pubdate data-updated="true">Feb 22<span>nd</span>, 2011</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>A good article to read. It made me to rethink the GUI programming with event-driven pattern.</p>

<p><a href="http://www.drdobbs.com/184401643"> http://www.drdobbs.com/184401643</a></p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2011/02/19/cautious-about-the-limit-of-color-number-in-perl-gd-package/">Cautious About the Limit of Color Number in Perl GD Package</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2011-02-19T18:30:56-06:00" pubdate data-updated="true">Feb 19<span>th</span>, 2011</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>In the recent Perl hacking, I used GD package a lot to do image processing like region labeling and
border tracing. I used GD to access the pixels. I ran into a very wired bug that the region labeling
code in some cases failed to identify the regions of interest(ROIs) correctly but worked well in
other cases.</p>

<p>After a painful debugging I found out the culprit. If $value is used to represent the label value,
and I use $img->setPixel($x, $y, $value) to store the value. Any value bigger than 256 will be
rounded to the range from 0 to 255 by modulo operator. So the actual value in the label image won&#8217;t
be over 255. This means that if you use GD image like a matrix, the value of a element of the matrix
can&#8217;t be more than 255.<strong> I think it is due to the physical limit of the colormap which essentially
can store no more than 256 colors.</strong></p>

<p>Finally, my suggestion is using <strong>Math::MatrixReal</strong> package.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2011/02/06/linux-ldd-equivalence-on-cygwin/">Linux &#8216;Ldd&#8217; Equivalence on Cygwin?</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2011-02-06T12:25:27-06:00" pubdate data-updated="true">Feb 6<span>th</span>, 2011</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Run &#8220;cygcheck &#8221; and see if all DLLs it requires can be found. I used it on Cygwin to solve a shared library missing problem when I started octave. The lapack library(.dll) was not loaded because of its path was not in $PATH.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2011/02/01/search-and-replace-in-a-visual-selection/">Search and Replace in a Visual Selection</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2011-02-01T01:47:14-06:00" pubdate data-updated="true">Feb 1<span>st</span>, 2011</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>:%s/\%Vold/NEW/g</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2011/01/28/sbcl-mmap-cannot-allocate-memory/">Sbcl Mmap Cannot Allocate Memory?</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2011-01-28T13:28:53-06:00" pubdate data-updated="true">Jan 28<span>th</span>, 2011</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Recently I want to give Common Lisp a try. After reading this great <a href="http://common-lisp.net/~dlw/LispSurvey.html">Common Lisp Implementation Survey</a>, I decided to go first with SBCL. After installing the binary package of SBCL-1.0.45 on my openSUSE-11.1 x86-64bit with 8Giga memory, I ran into this annoying error message when I started SBCL in terminal:</p>

<blockquote><p>mmap: Cannot allocate memory
ensure_space: failed to validate 8589869056 bytes at 0x1000000000
(hint: Try &#8220;ulimit -a&#8221;; maybe you should increase memory limits.)</p></blockquote>

<p>I researched online for a while and finally I came up a solution(it worked for me at least). Solution: start sbcl like this</p>

<blockquote><p>sbcl &#8211;dynamic-space-size 2028 &#8211;core /local/vol00/software/lib/sbcl/sbcl.core</p></blockquote>

<p>I guess the reason to fail is that by default sbcl will allocate 8Giga MB memory on x86-64 bit platform, which is not permitted due to the physical memory limitation. So use &#8211;dynamic-space-size to change the setting, also use &#8211;core option if your sbcl installation is not in the default location.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2011/01/21/start-vim-without-loading-vimrc/">Start Vim Without Loading Vimrc</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2011-01-21T21:25:21-06:00" pubdate data-updated="true">Jan 21<span>st</span>, 2011</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>You can also start it without reading any of the initialization files
(.vimrc, /etc/vim/vimrc) like this:</p>

<pre><code>vim -u NONE file
</code></pre>

<p>Credit due to <a href="http://fossplanet.com/f10/open-vim-syntax-off-92829/">Smoot Carl-Mitchell</a></p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2011/01/21/share-my-newly-created-valgrind-wxgtk-2-9-1-suppression-file/">Share My Newly Created Valgrind wxGTK-2.9.1 Suppression File</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2011-01-21T14:34:21-06:00" pubdate data-updated="true">Jan 21<span>st</span>, 2011</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>If you want use Valgrind to check the memory leak of your wxGTK program, you probably end up with
too many false detections. You need a suppression file to help you focus on the real problem you are
dealing with. I followed the great article at<a href="http://wiki.wxwidgets.org/Valgrind_Suppression_File_Howto">
http://wiki.wxwidgets.org/Valgrind_Suppression_File_Howto</a>
to create my first wxGTK suppression file. The version of wxGTK is 2.9.1 and my OS is openSUSE-11.1
<strong>x86-64</strong> . If your OS arch is not x86-64, you may need to modify the string occurrences  &#8216;64&#8217;  in
suppression file. I tested my suppression file with wxWdgets sample program &#8216;mininal&#8217; the error
number is 2, with sample opengl program &#8216;cube&#8217; the error number is 0. I hope I didn&#8217;t overact in my
suppression file.</p>

<p>I suggested using the following command to fire up valgrind:</p>

<pre><code>G_SLICE=always-malloc G_DEBUG=gc-friendly valgrind --leak-check=yes
--suppressions=./wx.supp --log-file=valgrind.log ./YOUR_PROG
</code></pre>

<p>Download it at here <a href="http://zandyware.files.wordpress.com/2011/01/wx-supp.doc">wx.supp</a>. And
<strong>remove the &#8216;doc&#8217; extension or rename to whatever you like since it is a plain txt file per se.</strong></p>

<p>Read more at <a href="http://live.gnome.org/Valgrind">http://live.gnome.org/Valgrind </a></p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2011/01/20/how-to-quote-long-command-in-perl-system-call/">How to Quote Long Command in Perl System()</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2011-01-20T00:14:43-06:00" pubdate data-updated="true">Jan 20<span>th</span>, 2011</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>If you call external command in your Perl code with system() and your command is very long, you must
want to break it into multi-line but the newline characters really get in the way.  Here is a good
way, IMHO,  to make the code look neat and clean:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
</pre></td><td class='code'><pre><code class='perl'><span class='line'><span class="c1"># Annotate the target and landmark image</span>
</span><span class='line'><span class="nb">system</span> <span class="n">single_line</span><span class="p">(</span> <span class="s">&quot;</span>
</span><span class='line'><span class="s"> convert -background black -fill white label:&#39;Target Landmarks&#39; miff:- | composite -gravity north</span>
</span><span class='line'><span class="s"> -geometry +0+3 - $target_with_lmk_filename $target_with_lmk_filename</span>
</span><span class='line'><span class="s">&quot;</span><span class="p">);</span>
</span><span class='line'>
</span><span class='line'><span class="k">sub </span><span class="nf">single_line</span> <span class="p">{</span>
</span><span class='line'> <span class="k">my</span> <span class="nv">@strings</span> <span class="o">=</span> <span class="nv">@_</span><span class="p">;</span>
</span><span class='line'> <span class="k">foreach</span> <span class="p">(</span> <span class="nv">@strings</span> <span class="p">)</span> <span class="p">{</span>
</span><span class='line'> <span class="sr">s/\n/ /g</span><span class="p">;</span>
</span><span class='line'> <span class="sr">s/\r/ /g</span><span class="p">;</span>
</span><span class='line'> <span class="p">}</span>
</span><span class='line'> <span class="k">return</span> <span class="nb">wantarray</span><span class="p">?</span> <span class="nv">@strings</span> <span class="p">:</span> <span class="nv">$strings</span><span class="p">[</span><span class="mi">0</span><span class="p">];</span>
</span><span class='line'><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure>


<p>Credit due to <a href="http://stackoverflow.com/questions/3707262/how-can-i-quote-a-long-string-in-perl">http://stackoverflow.com/questions/3707262/how-can-i-quote-a-long-string-in-perl</a></p>

<p>The biggest advantage of this method over string concatenation operator &#8220;.&#8221; is that it is easier to
re-align your code in Vim since your command is not messed with quotation marks.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2011/01/17/cautious-about-colorexact-and-colorallocate-in-perl-gd-package/">Cautious About colorExact() and colorAllocate() in Perl GD Package</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2011-01-17T00:33:45-06:00" pubdate data-updated="true">Jan 17<span>th</span>, 2011</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>For exising colors, I think it is better to use colorExact() because the color indices would be
consistent among images. For new colors, colorAllocate() is the only choice. But colorAllocate() is
highly recommended to use after colorExact(). It is safer to the color palette.</p>
</div>
  
  


    </article>
  
  <div class="pagination">
    
      <a class="prev" href="/blog/page/8/">&larr; Older</a>
    
    <a href="/blog/archives">Blog Archives</a>
    
    <a class="next" href="/blog/page/6/">Newer &rarr;</a>
    
  </div>
</div>
<aside class="sidebar">
  
    <section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/blog/2012/12/26/vim-gets-slow-when-editing-latex/">Vim gets slow when editing LaTeX file</a>
      </li>
    
      <li class="post">
        <a href="/blog/2012/11/28/fedora-17-and-nvidia-driver/">Install nVidia Driver on Fedora 17: A Non-typical Case</a>
      </li>
    
      <li class="post">
        <a href="/blog/2012/11/17/perl-one-liner-replace-text-in-mulple-files/">Perl one liner: replace text in mulple files</a>
      </li>
    
      <li class="post">
        <a href="/blog/2012/11/16/nomachine-and-gnome-redraw-problem/">Nomachine and GNOME Redraw Problem</a>
      </li>
    
      <li class="post">
        <a href="/blog/2012/10/13/add-octave-load-path-based-on-the-hostname-change-the-color-of-prompt-etc/">Octave: Add local repository path based on the hostname, change the color of prompt etc..</a>
      </li>
    
  </ul>
</section>
<section>
  <h1>Categories</h1>
    <ul id="category-list"><li><a href='/blog/categories/c-'>C++ (3)</a></li><li><a href='/blog/categories/c-c-'>C/C++ (10)</a></li><li><a href='/blog/categories/cmake'>CMake (1)</a></li><li><a href='/blog/categories/cygwin'>Cygwin (4)</a></li><li><a href='/blog/categories/dev'>Dev (2)</a></li><li><a href='/blog/categories/gcc'>GCC (2)</a></li><li><a href='/blog/categories/gdb'>GDB (3)</a></li><li><a href='/blog/categories/git'>Git (4)</a></li><li><a href='/blog/categories/gnome'>GNOME (4)</a></li><li><a href='/blog/categories/gnuplot'>Gnuplot (1)</a></li><li><a href='/blog/categories/java'>Java (1)</a></li><li><a href='/blog/categories/latex'>Latex (4)</a></li><li><a href='/blog/categories/linux'>Linux (35)</a></li><li><a href='/blog/categories/lisp'>Lisp (1)</a></li><li><a href='/blog/categories/math'>Math (1)</a></li><li><a href='/blog/categories/octave'>Octave (4)</a></li><li><a href='/blog/categories/oop'>OOP (2)</a></li><li><a href='/blog/categories/openmp'>OpenMP (2)</a></li><li><a href='/blog/categories/perl'>Perl (10)</a></li><li><a href='/blog/categories/subversion'>Subversion (1)</a></li><li><a href='/blog/categories/uncategorized'>Uncategorized (1)</a></li><li><a href='/blog/categories/vim'>Vim (4)</a></li><li><a href='/blog/categories/web'>Web (1)</a></li><li><a href='/blog/categories/wxwidgets'>wxWidgets (1)</a></li></ul>
</section>

<section>
  <h1>GitHub Repos</h1>
  <ul id="gh_repos">
    <li class="loading">Status updating&#8230;</li>
  </ul>
  
  <a href="https://github.com/jchain">@jchain</a> on GitHub
  
  <script type="text/javascript">
    $.domReady(function(){
        if (!window.jXHR){
            var jxhr = document.createElement('script');
            jxhr.type = 'text/javascript';
            jxhr.src = '/javascripts/libs/jXHR.js';
            var s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(jxhr, s);
        }

        github.showRepos({
            user: 'jchain',
            count: 0,
            skip_forks: true,
            target: '#gh_repos'
        });
    });
  </script>
  <script src="/javascripts/github.js" type="text/javascript"> </script>
</section>






  
</aside>

    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2013 - Zandy -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

</footer>
  

<script type="text/javascript">
      var disqus_shortname = 'zandy3';
      
        
        var disqus_script = 'count.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = 'http://' + disqus_shortname + '.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>







  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = 'http://platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>





</body>
</html>
