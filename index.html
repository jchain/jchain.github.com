
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>A Coding Monkey's Blog</title>
  <meta name="author" content="Zandy">

  
  <meta name="description" content="Last night I didn&rsquo;t resist the temptation to enter sudo yum install fedora-upgrade Viola, my journey to Fedora 19 began! Every time I upgraded &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://jchain.github.com">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <link href="/atom.xml" rel="alternate" title="A Coding Monkey's Blog" type="application/atom+xml">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
  <script>!window.jQuery && document.write(unescape('%3Cscript src="./javascripts/lib/jquery.min.js"%3E%3C/script%3E'))</script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="http://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">

  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-36085551-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>


</head>

<body   >
  <header role="banner"><hgroup>
  <h1><a href="/">A Coding Monkey's Blog</a></h1>
  
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="http://google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:jchain.github.com" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
  <li><a href="/">Blog</a></li>
  <li><a href="/blog/archives">Archives</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div class="blog-index">
  
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2013/07/01/fedora-19-and-gnome-3-8/">Fedora 19 and Gnome 3.8</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2013-07-01T16:10:15-05:00" pubdate data-updated="true">Jul 1<span>st</span>, 2013</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Last night I didn&rsquo;t resist the temptation to enter</p>

<pre><code>sudo yum install fedora-upgrade 
</code></pre>

<p>Viola, my journey to Fedora 19 began!</p>

<p>Every time I upgraded my Linux to the latest release, either Ubuntu or Fedora, I would have to spent
another day to tweak the new system to make it comfortable to use. The biggest challenge was surely
the transition from GNOME 2 to 3. Two years have passed and I still can&rsquo;t get used to the new UI.
Accurately speaking, I really like the new UI elements in GNOME 3 but I just don&rsquo;t like the ways
that GNOME shell asks me to do things. I think GNOME shell is attractive for new users and
especially good for tablet. But for a senior user, it is too obtrusive. It wanted to be smart but
overdid.</p>

<p>I appreciated the fallback mode that GNOME 3 provided. I turned off all the fancy animations and
sticked to the old-fashioned UI. I used <a href="http://code.google.com/p/tint2/"><code>tint2</code></a> as the window list panel. In Fedora 18 with
Gnome 3.6, the clock applet surprisingly had a memory leak issue. I disabled the clock applet and
only used the <code>tint2</code> panel to show the time. However, sometimes, I missed the weather information.</p>

<p>With the advent of GNOME 3.8, the fallback was sadly dropped and the 2D GNOME shell was so ugly that
I had to make a change.</p>

<p>I first tried <a href="http://xfce.org"><code>Xfce</code></a> and <code>MATE Desktop</code>. <code>MATE</code> failed to start on my Fedora 19. I realized that
I was spoiled by the modern UI of GNOME 3 so the look and feel of <code>Xfce</code> (based on GTK+ 2) became
intolerable. Thank God there is <a href="http://cinnamon.linuxmint.com/"><code>Cinnamon</code></a>. When Cinnamon was first released, I thought it was
another flamboyant window manager but it turns out sleek and practical. The status bar is very
compact but full of useful information. Window list? Check. Weather applet? Check. Start menu?
Check. Transparency effect? Check. GNOME compatible? Check. I don&rsquo;t need many. These are good
enough. I&rsquo;m so happy to settle down with Cinnamon.</p>

<p>Some other issues with GNOME 3.8 are</p>

<pre><code>1. The transparency of the background of GNOME Terminal can't be set. Not a very big deal. But
some users complained about it. 
2. The upgrade changed my wallpapers for the desktop and the GDM. I really wanted them to be
kept.
</code></pre>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2013/06/01/fix-neocomplcache-perlomni/">Fix Neocomplcache to Support Perl Complete</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2013-06-01T15:37:24-05:00" pubdate data-updated="true">Jun 1<span>st</span>, 2013</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>I have long been jealous about the great auto-complete feature of Python in Vim. With the wonderful
plugin <a href="https://github.com/Shougo/neocomplcache.vim"><code>neocomplcache</code></a>, once you type <code>.</code> after an object, the memeber methods will pop up.</p>

<p>I want this feature for Perl when I type <code>-&gt;</code>. Actually, until today haven&rsquo;t I realized that
I already own at my finger tip. The answer is <code>neocomplcache</code> and <a href="https://github.com/c9s/perlomni.vim"><code>perlomni</code></a>.</p>

<p>The installation of <code>neocomplcache</code> and <code>perlomni</code> is easy. If you use the settings from the help of
<code>neocomplcache</code>, the key part to triger <code>neocomplcache</code> omni-complete by <code>-&gt;</code> is to change the
setting in <code>.vimrc</code> from</p>

<pre><code>let g:neocomplcache_omni_patterns.perl = '\h\w*-&gt;\h\w*\|\h\w*::'
</code></pre>

<p>to</p>

<pre><code>let g:neocomplcache_omni_patterns.perl = '\h\w*-&gt;\|\h\w*-&gt;\h\w*\|\h\w*::\|\h\w*::\h\w*'
</code></pre>

<p>Make sure <code>omnifunc</code> is <code>PerlComplete</code>.</p>

<p>A little explanation: <code>\h\w*-&gt;</code> will triger the popup window, <code>\h\w*-&gt;\h\w*</code> will complete
as-you-type. The similar situation goes to <code>::</code> operator. But do remember that sometimes <code>::</code> won&rsquo;t
triger neocomplcache if the package is not based on the OO that perlomni supports. In this case,
<code>C-X C-O</code> will always pop up the window.  After this you should see someting like this:</p>

<p><img src="https://dl.dropboxusercontent.com/u/309872/blog/2013-06-01-perlomni-in-vim.png" alt="alt" /></p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2013/02/08/intro-quickcd/">Introducing Quickcd</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2013-02-08T14:03:24-06:00" pubdate data-updated="true">Feb 8<span>th</span>, 2013</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>I just published the code of <code>quickcd</code> on github. Check it out at <a href="https://github.com/jchain/quickcd">https://github.com/jchain/quickcd</a></p>

<h1>quickcd</h1>

<p>A rewrite of <a href="https://github.com/philc/fuzzycd">fuzzycd</a> in Perl. You only need to type partial directory names to change
directories. It saves you a lot of keystrokes and enhances your productivity, especially when you
navigate in many subdirectories with tricky names.</p>

<p>This script is inspired by <a href="https://github.com/philc/fuzzycd">fuzzycd</a>. Big thanks to the author for sharing his/her great code.
The way of intercepting the system <code>cd</code> is genius. I recommend you to try both scripts and choose
the one you like most.</p>

<h1>Overview</h1>

<p>quickcd enables you to use cd with partial directory names. For example:</p>

<pre><code>$ cd box
  =&gt; Dropbox
$ cd ok
  =&gt; Ebook
</code></pre>

<p>If there is more than one directory containing your cd path, you just need to type one more letter
to take you to the target folder.</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>~ $ cd D
</span><span class='line'>Make a choice:
</span><span class='line'>[a] Desktop  [b] Documents  [c] Downloads  [d] Dropbox
</span><span class='line'>a
</span><span class='line'>Desktop $</span></code></pre></td></tr></table></div></figure>


<h1>Why rewrite?</h1>

<p>The differences:</p>

<ol>
<li><p>When your cd path contains capital letter quickcd will match case sensitively. This way can
result in less matches. fuzzycd seems to do case insensitive match all the time.</p></li>
<li><p><strong>quickcd prints out a well-formatted candidates</strong>. It fits the width of the terminal windows and
the columns are aligned neatly. I worked really hard on making this right. fuzzycd candidates
are not always aligned.</p></li>
<li><p>quickcd doesn&rsquo;t support multi-level directory nagivation. Its main focus is current directory.
fuzzycd supports fuzzy jumps to multi-level directory but I rarely use this feature.</p></li>
<li><p>quickcd is written in Perl. Yep, I like Perl! fuzzycd is written in Ruby.</p></li>
</ol>


<h1>Setup</h1>

<p>This following instruction are shamelessly copied from fuzzycd&rsquo;s README.</p>

<p>Modify your ~/.profile (or ~/.bashrc, depending your operating system) and add the following lines.
This assumes you put fuzzycd in the ~/scripts/ directory.</p>

<pre><code>export PATH=~/scripts/fuzzycd/:$PATH
source ~/scripts/fuzzycd/fuzzycd_bash_wrapper.sh
</code></pre>

<p>This will effectively wrap the builtin bash cd command with the fuzzy cd command. Enjoy!</p>

<p><em>Note</em>: If you have any other shell plugins which try to redefine the &ldquo;cd&rdquo; function (e.g.
<a href="https://rvm.beginrescueend.com/rvm">rvm</a> does this), make sure that the
<code>source ... fuzzycd_bash_wrapper.sh</code> line comes last in your bash profile. fuzzycd plays nicely with
other bash modification plugins, but it should be loaded last.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2013/01/31/customized-feh-config-mk/">Build Feh From Source and Install to Home Directory</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2013-01-31T15:39:00-06:00" pubdate data-updated="true">Jan 31<span>st</span>, 2013</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p><a href="http://feh.finalrewind.org/"><code>Feh</code></a> is a lightweight image viewer for Linux. Its source code doesn&rsquo;t ship the Autoconf script
and only Makefile. The customization is done by modifying the file <code>config.mk</code>. In my case I would
like to install it to my HOME directory. Plus, I have installed the dependency library <code>giblib</code> into
HOME directory before so I have to specify the search path for compiler and linker. Here is what
I got so far:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
<span class='line-number'>32</span>
<span class='line-number'>33</span>
<span class='line-number'>34</span>
<span class='line-number'>35</span>
<span class='line-number'>36</span>
<span class='line-number'>37</span>
<span class='line-number'>38</span>
<span class='line-number'>39</span>
<span class='line-number'>40</span>
<span class='line-number'>41</span>
<span class='line-number'>42</span>
<span class='line-number'>43</span>
<span class='line-number'>44</span>
<span class='line-number'>45</span>
<span class='line-number'>46</span>
<span class='line-number'>47</span>
<span class='line-number'>48</span>
<span class='line-number'>49</span>
<span class='line-number'>50</span>
<span class='line-number'>51</span>
<span class='line-number'>52</span>
<span class='line-number'>53</span>
<span class='line-number'>54</span>
<span class='line-number'>55</span>
<span class='line-number'>56</span>
<span class='line-number'>57</span>
<span class='line-number'>58</span>
<span class='line-number'>59</span>
<span class='line-number'>60</span>
<span class='line-number'>61</span>
<span class='line-number'>62</span>
<span class='line-number'>63</span>
<span class='line-number'>64</span>
<span class='line-number'>65</span>
<span class='line-number'>66</span>
<span class='line-number'>67</span>
<span class='line-number'>68</span>
<span class='line-number'>69</span>
<span class='line-number'>70</span>
<span class='line-number'>71</span>
<span class='line-number'>72</span>
<span class='line-number'>73</span>
<span class='line-number'>74</span>
<span class='line-number'>75</span>
<span class='line-number'>76</span>
</pre></td><td class='code'><pre><code class='makefile'><span class='line'><span class="nv">PACKAGE</span> <span class="o">?=</span> feh
</span><span class='line'>VERSION ?<span class="o">=</span> 2.8
</span><span class='line'>
</span><span class='line'><span class="c"># Prefix for all installed files</span>
</span><span class='line'><span class="c"># PREFIX ?= /usr/local</span>
</span><span class='line'>PREFIX ?<span class="o">=</span> <span class="k">${</span><span class="nv">HOME</span><span class="k">}</span>
</span><span class='line'>
</span><span class='line'><span class="c"># Directories for manuals, executables, docs, data, etc.</span>
</span><span class='line'><span class="nv">main_dir</span> <span class="o">=</span> <span class="k">${</span><span class="nv">DESTDIR</span><span class="k">}${</span><span class="nv">PREFIX</span><span class="k">}</span>
</span><span class='line'><span class="nv">man_dir</span> <span class="o">=</span> <span class="k">${</span><span class="nv">main_dir</span><span class="k">}</span>/share/man
</span><span class='line'><span class="nv">bin_dir</span> <span class="o">=</span> <span class="k">${</span><span class="nv">main_dir</span><span class="k">}</span>/bin
</span><span class='line'><span class="nv">doc_dir</span> <span class="o">=</span> <span class="k">${</span><span class="nv">main_dir</span><span class="k">}</span>/share/doc/feh
</span><span class='line'><span class="nv">image_dir</span> <span class="o">=</span> <span class="k">${</span><span class="nv">main_dir</span><span class="k">}</span>/share/feh/images
</span><span class='line'><span class="nv">font_dir</span> <span class="o">=</span> <span class="k">${</span><span class="nv">main_dir</span><span class="k">}</span>/share/feh/fonts
</span><span class='line'><span class="nv">example_dir</span> <span class="o">=</span> <span class="k">${</span><span class="nv">main_dir</span><span class="k">}</span>/share/doc/feh/examples
</span><span class='line'>
</span><span class='line'><span class="c"># default CFLAGS</span>
</span><span class='line'>CFLAGS ?<span class="o">=</span> -g -O2
</span><span class='line'>CFLAGS +<span class="o">=</span> -Wall -Wextra -pedantic
</span><span class='line'>
</span><span class='line'>curl ?<span class="o">=</span> 1
</span><span class='line'>debug ?<span class="o">=</span> 0
</span><span class='line'><span class="nb">help</span> ?<span class="o">=</span> 0
</span><span class='line'>xinerama ?<span class="o">=</span> 1
</span><span class='line'>exif ?<span class="o">=</span> 0
</span><span class='line'>
</span><span class='line'><span class="cp">ifeq (${curl},1)</span>
</span><span class='line'>  CFLAGS +<span class="o">=</span> -DHAVE_LIBCURL
</span><span class='line'>  LDLIBS +<span class="o">=</span> -lcurl
</span><span class='line'>  <span class="nv">MAN_CURL</span> <span class="o">=</span> enabled
</span><span class='line'><span class="cp">else</span>
</span><span class='line'>  <span class="nv">MAN_CURL</span> <span class="o">=</span> disabled
</span><span class='line'><span class="cp">endif</span>
</span><span class='line'>
</span><span class='line'><span class="cp">ifeq (${debug},1)</span>
</span><span class='line'>  CFLAGS +<span class="o">=</span> -DDEBUG -O0
</span><span class='line'>  <span class="nv">MAN_DEBUG</span> <span class="o">=</span> . This is a debug build.
</span><span class='line'><span class="cp">else</span>
</span><span class='line'>  <span class="nv">MAN_DEBUG</span> <span class="o">=</span>
</span><span class='line'><span class="cp">endif</span>
</span><span class='line'>
</span><span class='line'><span class="cp">ifeq (${help},1)</span>
</span><span class='line'>  CFLAGS +<span class="o">=</span> -DINCLUDE_HELP
</span><span class='line'><span class="cp">endif</span>
</span><span class='line'>
</span><span class='line'><span class="cp">ifeq (${stat64},1)</span>
</span><span class='line'>  CFLAGS +<span class="o">=</span> -D_FILE_OFFSET_BITS<span class="o">=</span>64
</span><span class='line'><span class="cp">endif</span>
</span><span class='line'>
</span><span class='line'><span class="cp">ifeq (${xinerama},1)</span>
</span><span class='line'>  CFLAGS +<span class="o">=</span> -DHAVE_LIBXINERAMA
</span><span class='line'>  LDLIBS +<span class="o">=</span> -lXinerama
</span><span class='line'>  <span class="nv">MAN_XINERAMA</span> <span class="o">=</span> enabled
</span><span class='line'><span class="cp">else</span>
</span><span class='line'>  <span class="nv">MAN_XINERAMA</span> <span class="o">=</span> disabled
</span><span class='line'><span class="cp">endif</span>
</span><span class='line'>
</span><span class='line'><span class="cp">ifeq (${exif},1)</span>
</span><span class='line'>  CFLAGS +<span class="o">=</span> -DHAVE_LIBEXIF
</span><span class='line'>  LDLIBS +<span class="o">=</span> -lexif
</span><span class='line'>  <span class="nv">MAN_EXIF</span> <span class="o">=</span> enabled
</span><span class='line'><span class="cp">else</span>
</span><span class='line'>  <span class="nv">MAN_EXIF</span> <span class="o">=</span> disabled
</span><span class='line'><span class="cp">endif</span>
</span><span class='line'>
</span><span class='line'>
</span><span class='line'><span class="c"># Uncomment this to use dmalloc</span>
</span><span class='line'><span class="c">#CFLAGS += -DWITH_DMALLOC</span>
</span><span class='line'>
</span><span class='line'><span class="c"># CFLAGS += -DPREFIX=\&quot;${PREFIX}\&quot; \</span>
</span><span class='line'>  -DPACKAGE<span class="o">=</span><span class="se">\&quot;</span><span class="k">${</span><span class="nv">PACKAGE</span><span class="k">}</span><span class="se">\&quot;</span> -DVERSION<span class="o">=</span><span class="se">\&quot;</span><span class="k">${</span><span class="nv">VERSION</span><span class="k">}</span><span class="se">\&quot;</span>
</span><span class='line'>CFLAGS +<span class="o">=</span> -DPREFIX<span class="o">=</span><span class="se">\&quot;</span><span class="k">${</span><span class="nv">PREFIX</span><span class="k">}</span><span class="se">\&quot;</span> <span class="se">\</span>
</span><span class='line'>  -DPACKAGE<span class="o">=</span><span class="se">\&quot;</span><span class="k">${</span><span class="nv">PACKAGE</span><span class="k">}</span><span class="se">\&quot;</span> -DVERSION<span class="o">=</span><span class="se">\&quot;</span><span class="k">${</span><span class="nv">VERSION</span><span class="k">}</span><span class="se">\&quot;</span> -I<span class="k">${</span><span class="nv">PREFIX</span><span class="k">}</span>/include
</span><span class='line'>
</span><span class='line'><span class="c"># LDLIBS += -lm -lpng -lX11 -lImlib2 -lgiblib</span>
</span><span class='line'>LDLIBS +<span class="o">=</span> -lm -lpng -lX11 -lImlib2 -lgiblib -L<span class="k">${</span><span class="nv">PREFIX</span><span class="k">}</span>/lib64/
</span></code></pre></td></tr></table></div></figure>



</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2013/01/28/install-rcppoctave-if-octave/">Install RcppOctave if Octave Is in User-defined Directory</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2013-01-28T23:43:00-06:00" pubdate data-updated="true">Jan 28<span>th</span>, 2013</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Even though I have been very busy these days I think I should try to get at least one post published
per month. My recent job involved a lot of data analysis and statistical computing. I pushed myself
to get familiar with <a href="http://www.r-project.org">R</a> because some packages from R are indispensable for my work. Meanwhile
I also wanted to reuse my existing <a href="http://www.octave.org">Octave</a> code. Luckily I get the best of both worlds by using
<a href="http://cran.r-project.org/web/packages/RcppOctave/">RcppOctave</a> which is a bridging package connecting the R and Octave sessions.</p>

<p>I compiled the latest Octave on the server and installed in my home directory. When installing
<code>RcppOctave</code> in R by running</p>

<pre><code>install.packages('RcppOctave') 
</code></pre>

<p>I ran into an error message like this:</p>

<pre><code>** preparing package for lazy loading
Creating a generic function for ‘show’ from ‘methods’ in package ‘RcppOctave’
    (from the saved implicit definition)
** help
Error : /tmp/Rtmp028JZY/R.INSTALL6dea26e533ee/RcppOctave/man/o_addpath.Rd:40: unable to load
shared object '/home/zandy/lib64/R/library/RcppOctave/libs/RcppOctave.so':
liboctinterp.so.1: cannot open shared object file: No such file or directory

ERROR: installing Rd objects failed for package ‘RcppOctave’
* removing ‘/home/zandy/lib64/R/library/RcppOctave’
</code></pre>

<p>The build phase seemed OK. Only did the install phase complain. I spent some time and figured out
a work-around is to specify the library path to your <code>liboctinterp.so</code>:</p>

<pre><code>export LD_LIBRARY_PATH=$LD_LIBRARY_PATH:$HOME/lib64/octave/3.6.3
</code></pre>

<p>I don&rsquo;t know much about the internal mechanism of <code>install.packages</code> otherwise I may be able to fix
the problem completely.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2012/12/26/vim-gets-slow-when-editing-latex/">Vim Gets Slow When Editing LaTeX File</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2012-12-26T04:10:00-06:00" pubdate data-updated="true">Dec 26<span>th</span>, 2012</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Recently I have been working on editing multiple LaTeX files containing many lines and equations.
I noticed there was an annoying slowdown when I moved the cursor around. CPU usage jumped to 100% so
frequently that I almost lost patience to focus on the writing itself.</p>

<p>After tweaking the Vim plugins and configurations for a while, I found out <code>set cursorline</code> and the
built-in plugin <code>MatchParen</code> made Vim scrolling very slow. Some people seemed to have run into the
same problem as mentioned <a href="http://haerench.blogspot.com/2012/12/cursorline-cursorcolumn-and-syntax.html">here</a> and <a href="https://bbs.archlinux.org/viewtopic.php?id=111647">here</a>. Some complained that Vim got slow when editing
Ruby file. And I use Vim in terminal.</p>

<p>I have no idea why Vim drawing is so CPU expensive. At this moment I disabled the highlighting of
<code>cursorline</code> and <code>cursorcolumn</code></p>

<pre><code>set nocursorline
set nocursorcolumn 
</code></pre>

<p>I also notice that cursor movements in the equation environment was very slow partially it was
because the math equations had so many parentheses, brackets and braces. Matching pairs and syntax
highlighting easily ate a good amount of CPU cycles. So I turned off this plugin by</p>

<pre><code>:NoMatchParen
</code></pre>

<p>I didn&rsquo;t completely disable this plugin since I found that it was useful when editing long
equations. So I didn&rsquo;t try this in <code>.vimrc</code></p>

<pre><code>let g:loaded_matchparen=1
</code></pre>

<p>I found some other tweaks by using Vim&rsquo;s <code>:profile</code> command and the verbose options <code>vim -V
foo.bar</code>. They are good ways to try to analyze the slowdown.</p>

<p>The lesson I learned:</p>

<ol>
<li>All-around syntax highlighting seems a little bit expensive in Vim. Emacs seems to beat Vim on
this point.</li>
<li>Use <code>autocmd FileType</code> to further tweak the performance, such as disable the
unnecessary plugins.</li>
</ol>

</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2012/11/28/fedora-17-and-nvidia-driver/">Install nVidia Driver on Fedora 17: A Non-typical Case</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2012-11-28T02:10:00-06:00" pubdate data-updated="true">Nov 28<span>th</span>, 2012</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Finally I succeeded in installing the nVidia driver on my old Dell Inspiron 530 geared an old nVidia
8300 GS video card running Fedora 17 i386. Here is a quick recap on my journey with Fedora 17.</p>

<p>I started constantly using Fedora 17 half a year ago. I had used the default open source nVidia
driver <code>nouveau</code> happily until the system updated the kernel from the 3.3.4 to some newer version.
None of these newer kernels worked well with the <code>nouveau</code> driver. A common issue was the mouse was
drawn as a big block and the GUI color was totally garbage. I tried to install the nVidia driver
either according to <a href="http://www.if-not-true-then-false.com/2012/fedora-17-nvidia-guide/">what it said</a> or using the installer from the official website of nVidia.
But neither way worked. I could see the mouse was spinning but the whole system kept froze. So I
excluded the kernel update in <code>yum.conf</code> under <code>/etc</code>. Everything was fine until one day my Fedora
Linux suddenly crashed with a kernel panic error. The traceback message indicated it was about a
kernel bug in the ext4 file system</p>

<pre><code>kernel BUG at fs/ext4/extents.c
</code></pre>

<p>Initially I thought it could be due to certain bad blocks on my hard drive. But soon the hacker news
confirmed that the bug in the kernel was the culprit. After several sudden losses of my working
sessions I couldn&rsquo;t wait for any more seconds to update the kernel. And I had to make the Xorg
server work too.</p>

<p>It really bugged me that the nVidia driver didn&rsquo;t work on my Fedora 17. I booted from Ubuntu Linux
installed on an external USB disk. And the nVidia driver worked fine under it. There must be
something wrong with <code>akmod-nvidia</code> or the official driver.</p>

<p>Accidentally I found the solution. It appeared that my 8300GS card was not supported very well in
the recent 3xx driver. I guess this type was not very common. I tried <code>akmod-nvidia-173xx</code> and X
server started this time. In my case, I didn&rsquo;t need to do this:</p>

<pre><code>Remove / disable nouveau drivers from kernel initramfs
</code></pre>

<p>The remaining issue was the OpenGL apps were indirectly rendered. It was due to the nVidia GL
library was not automatically loaded. The system still used the mesa GL to do the software
rendering. A workaround is to put the following line in <code>.bashrc</code></p>

<pre><code>export LD_LIBRARY_PATH=/usr/lib/nvidia:$LD_LIBRARY_PATH
</code></pre>

<p>Another problem was the dual displays. The default <code>xorg.conf</code> generated by <code>akmod-nvidia-173xx</code>
didn&rsquo;t support the twin views. Additionally, <code>nvidia-settings</code> complained the X11 driver was too old
to be configured. Fortunately I had a copy of working <code>xorg.conf</code> at my Ubuntu partition. And here
is what it looks right now.</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
</pre></td><td class='code'><pre><code class=''><span class='line'># RPM Fusion - nvidia-173xx-xorg.conf
</span><span class='line'># 
</span><span class='line'>Section "Monitor"
</span><span class='line'>    # HorizSync source: edid, VertRefresh source: edid
</span><span class='line'>    Identifier     "Monitor0"
</span><span class='line'>    VendorName     "Unknown"
</span><span class='line'>    ModelName      "DELL E228WFP"
</span><span class='line'>    HorizSync       30.0 - 83.0
</span><span class='line'>    VertRefresh     56.0 - 75.0
</span><span class='line'>    Option         "DPMS"
</span><span class='line'>EndSection
</span><span class='line'>
</span><span class='line'>Section "Device"
</span><span class='line'>  Identifier  "Device0"
</span><span class='line'>  Driver      "nvidia"
</span><span class='line'>  Option      "AddARGBGLXVisuals" "true"
</span><span class='line'>EndSection
</span><span class='line'>
</span><span class='line'>Section "Screen"
</span><span class='line'>    Identifier     "Screen0"
</span><span class='line'>    Device         "Device0"
</span><span class='line'>    Monitor        "Monitor0"
</span><span class='line'>    DefaultDepth    24
</span><span class='line'>    Option         "TwinView" "1"
</span><span class='line'>    Option         "TwinViewXineramaInfoOrder" "DFP-0"
</span><span class='line'>    Option         "metamodes" "DFP: nvidia-auto-select +0+0, CRT: nvidia-auto-select +1680+0"
</span><span class='line'>    SubSection     "Display"
</span><span class='line'>        Depth       24
</span><span class='line'>    EndSubSection
</span><span class='line'>EndSection</span></code></pre></td></tr></table></div></figure>


<p>I&rsquo;m so excited to have my Fedora back in good shape and I want share my story with you. Hopefully it
will help you if you are facing the same problem.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2012/11/17/perl-one-liner-replace-text-in-mulple-files/">Perl One Liner: Replace Text in Mulple Files</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2012-11-17T02:10:00-06:00" pubdate data-updated="true">Nov 17<span>th</span>, 2012</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Today I got some time to improve my tech blog with <a href="http://octopress.org">Octopress</a>. I found that I couldn&rsquo;t use the
different letter cases as the same category name. Otherwise the category page wouldn&rsquo;t show correct
number of links to the posts under that category. For example, I had to change all <code>git</code> to <code>Git</code> in
the meta info of every posts. Here was what I used to get this job done.</p>

<pre><code>ack "\- git" *.markdown -l | xargs perl -p -i -e 's/- git/- Git/g'
</code></pre>

<p>A little explanation:</p>

<pre><code>-l: ask ack to only show the filename with matched search pattern. You can try first without -l
    option to make sure you find the correct files. And then run with -l option to make the output
    suitable for xargs
-p: read and loop from files instead of STDIN
-i: in-place edit
-e: run the command. Here we do the search and replace operations.
</code></pre>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2012/11/16/nomachine-and-gnome-redraw-problem/">Nomachine and GNOME Redraw Problem</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2012-11-16T15:36:00-06:00" pubdate data-updated="true">Nov 16<span>th</span>, 2012</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>I use <a href="http://www.nomachine.com">Nomachine</a> a lot when I work from home. My home and work Linux desktop are both running
GNOME 3. There were a problem disturbing me for a while. Everything works fine at workplace probably
due to the supper fast local internet connection. But when I connected to the remote desktop via
Nomachine, the GUIs of remote applications were very lagging and the redraws seemed out of sync
leaving blanks here and there. I&rsquo;ve tried many ways to improve that, including upgrading the ISP
bandwidth, trying the latest NoMachine 4 Preview, tuning the various options in the settings. But
all efforts were vain. Until one day I aimlessly chose KDE in NoMachine and the redraw issue were
gone. Every GUI programs ran perfectly in KDE, both GTK+ ones and non-GTK+ ones.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2012/10/13/add-octave-load-path-based-on-the-hostname-change-the-color-of-prompt-etc/">Octave: Add Local Repository Path Based on the Hostname, Change the Color of Prompt Etc..</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2012-10-13T03:38:46-05:00" pubdate data-updated="true">Oct 13<span>th</span>, 2012</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>In my everyday work I use Git to do the version control over my dotfiles. I share my .octaverc cross
different computers (four different Linux machine). I also maintain a list of local M-file repos.
Not all repos are available on every machine. To get rid of the warning message for missing
directory every time, I wished I could add my local directories dynamically based on the hostname.
I didn&rsquo;t know how to do so until today I found that Octave actually has the function &lsquo;uname()&rsquo; for
the job. Here is an example ~/.octaverc</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
</pre></td><td class='code'><pre><code class='python'><span class='line'><span class="k">if</span> <span class="n">strcmp</span><span class="p">(</span><span class="n">uname</span><span class="p">()</span><span class="o">.</span><span class="n">nodename</span><span class="p">,</span> <span class="s">&#39;zandyware&#39;</span><span class="p">)</span>
</span><span class='line'> <span class="n">addpath</span><span class="p">(</span><span class="s">&quot;~/octave&quot;</span><span class="p">)</span>
</span><span class='line'> <span class="n">addpath</span><span class="p">(</span><span class="s">&quot;~/share/flann/octave&quot;</span><span class="p">)</span>
</span><span class='line'> <span class="n">addpath</span><span class="p">(</span><span class="s">&quot;~/octave/niftimatlib-1.2/matlab&quot;</span><span class="p">)</span>
</span><span class='line'><span class="n">end</span>
</span><span class='line'>
</span><span class='line'><span class="n">PS1</span> <span class="p">(</span><span class="s">&quot;</span><span class="se">\\</span><span class="s">[</span><span class="se">\\</span><span class="s">033[01;31m</span><span class="se">\\</span><span class="s">]</span><span class="se">\\</span><span class="s">s:</span><span class="se">\\</span><span class="s">#&gt; </span><span class="se">\\</span><span class="s">[</span><span class="se">\\</span><span class="s">033[0m&quot;</span><span class="p">)</span>
</span><span class='line'>
</span><span class='line'><span class="n">function</span> <span class="n">man</span> <span class="p">(</span><span class="n">name</span><span class="p">)</span>
</span><span class='line'> <span class="n">help</span> <span class="p">(</span><span class="n">char</span> <span class="p">(</span><span class="n">name</span><span class="p">))</span>
</span><span class='line'><span class="n">endfunction</span>
</span></code></pre></td></tr></table></div></figure>


<p>You may also notice that I changed the default color of prompt to red for better visual contrast.
Also I defined a function &lsquo;man&rsquo; to alias the built-in command &lsquo;help&rsquo; since I&rsquo;m more used to type
&lsquo;man&rsquo;. This tip was copied from Octave mailinglist. Hope you like today&rsquo;s post.</p>
</div>
  
  


    </article>
  
  <div class="pagination">
    
      <a class="prev" href="/blog/page/2/">&larr; Older</a>
    
    <a href="/blog/archives">Blog Archives</a>
    
  </div>
</div>
<aside class="sidebar">
  
    <section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/blog/2013/07/01/fedora-19-and-gnome-3-8/">Fedora 19 and Gnome 3.8</a>
      </li>
    
      <li class="post">
        <a href="/blog/2013/06/01/fix-neocomplcache-perlomni/">Fix Neocomplcache to Support Perl Complete</a>
      </li>
    
      <li class="post">
        <a href="/blog/2013/02/08/intro-quickcd/">Introducing Quickcd</a>
      </li>
    
      <li class="post">
        <a href="/blog/2013/01/31/customized-feh-config-mk/">Build Feh From Source and Install to Home Directory</a>
      </li>
    
      <li class="post">
        <a href="/blog/2013/01/28/install-rcppoctave-if-octave/">Install RcppOctave if Octave Is in User-defined Directory</a>
      </li>
    
  </ul>
</section>
<section>
  <h1>Categories</h1>
    <ul id="category-list"><li><a href='/blog/categories/bash'>Bash (1)</a></li><li><a href='/blog/categories/c-'>C++ (3)</a></li><li><a href='/blog/categories/c-c-'>C/C++ (10)</a></li><li><a href='/blog/categories/cmake'>CMake (1)</a></li><li><a href='/blog/categories/cygwin'>Cygwin (4)</a></li><li><a href='/blog/categories/dev'>Dev (2)</a></li><li><a href='/blog/categories/gcc'>GCC (2)</a></li><li><a href='/blog/categories/gdb'>GDB (3)</a></li><li><a href='/blog/categories/git'>Git (4)</a></li><li><a href='/blog/categories/gnome'>GNOME (4)</a></li><li><a href='/blog/categories/gnome'>Gnome (1)</a></li><li><a href='/blog/categories/gnuplot'>Gnuplot (1)</a></li><li><a href='/blog/categories/java'>Java (1)</a></li><li><a href='/blog/categories/latex'>Latex (4)</a></li><li><a href='/blog/categories/linux'>Linux (39)</a></li><li><a href='/blog/categories/lisp'>Lisp (1)</a></li><li><a href='/blog/categories/math'>Math (1)</a></li><li><a href='/blog/categories/octave'>Octave (5)</a></li><li><a href='/blog/categories/oop'>OOP (2)</a></li><li><a href='/blog/categories/openmp'>OpenMP (2)</a></li><li><a href='/blog/categories/perl'>Perl (12)</a></li><li><a href='/blog/categories/r'>R (1)</a></li><li><a href='/blog/categories/subversion'>Subversion (1)</a></li><li><a href='/blog/categories/uncategorized'>Uncategorized (1)</a></li><li><a href='/blog/categories/vim'>Vim (4)</a></li><li><a href='/blog/categories/web'>Web (1)</a></li><li><a href='/blog/categories/wxwidgets'>wxWidgets (1)</a></li></ul>
</section>

<section>
  <h1>GitHub Repos</h1>
  <ul id="gh_repos">
    <li class="loading">Status updating&#8230;</li>
  </ul>
  
  <a href="https://github.com/jchain">@jchain</a> on GitHub
  
  <script type="text/javascript">
    $(document).ready(function(){
        if (!window.jXHR){
            var jxhr = document.createElement('script');
            jxhr.type = 'text/javascript';
            jxhr.src = '/javascripts/libs/jXHR.js';
            var s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(jxhr, s);
        }

        github.showRepos({
            user: 'jchain',
            count: 0,
            skip_forks: true,
            target: '#gh_repos'
        });
    });
  </script>
  <script src="/javascripts/github.js" type="text/javascript"> </script>
</section>






  
</aside>

    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2013 - Zandy -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

</footer>
  

<script type="text/javascript">
      var disqus_shortname = 'zandy3';
      
        
        var disqus_script = 'count.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = 'http://' + disqus_shortname + '.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>







  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = '//platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>





</body>
</html>
